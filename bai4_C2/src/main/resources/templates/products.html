<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Danh S√°ch S·∫£n Ph·∫©m</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="/styles.css" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark mb-4">
        <div class="container-fluid">
            <a class="navbar-brand" href="/products">üì± Qu·∫£n L√Ω S·∫£n Ph·∫©m</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link active" href="/products">üìã Danh S√°ch</a></li>
                    <li class="nav-item"><a class="nav-link" href="/products/add">‚ûï Th√™m M·ªõi</a></li>
                    <li class="nav-item"><a class="nav-link" href="/guide">üìñ H∆∞·ªõng D·∫´n</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Container -->
    <div class="container-fluid">
        <div class="header">
            <h1>üì± Qu·∫£n L√Ω S·∫£n Ph·∫©m</h1>
            <p>H·ªá th·ªëng qu·∫£n l√Ω s·∫£n ph·∫©m ƒëi·ªán tho·∫°i v√† laptop</p>
        </div>

        <div class="content">
            <a href="/products/add" class="btn-add">+ Th√™m S·∫£n Ph·∫©m M·ªõi</a>

            <div th:if="${products.isEmpty()}" class="empty-message">
                <p>Kh√¥ng c√≥ s·∫£n ph·∫©m n√†o. <a href="/products/add" style="color: #667eea;">Th√™m s·∫£n ph·∫©m m·ªõi</a></p>
            </div>

            <div th:if="${!products.isEmpty()}">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>M√£</th>
                            <th>H√¨nh ·∫¢nh</th>
                            <th>T√™n S·∫£n Ph·∫©m</th>
                            <th>Gi√°</th>
                            <th>Danh M·ª•c</th>
                            <th>Thao T√°c</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="product : ${products}">
                            <td th:text="${product.code}"></td>
                            <td>
                                <img th:src="@{/uploads/{image}(image=${product.image})}" alt="Product" class="product-image" onerror="this.src='/placeholder.jpg'">
                            </td>
                            <td th:text="${product.name}"></td>
                            <td class="price">
                                <span th:text="${#numbers.formatInteger(product.price, 1)}"></span> ƒë
                            </td>
                            <td>
                                <span th:class="'badge ' + (${product.category == 'ƒëi·ªán tho·∫°i'} ? 'badge-phone' : 'badge-laptop')" th:text="${product.category}"></span>
                            </td>
                            <td>
                                <div class="actions">
                                    <a th:href="@{/products/edit/{id}(id=${product.id})}" class="btn btn-edit">‚úèÔ∏è S·ª≠a</a>
                                    <a th:href="@{/products/delete/{id}(id=${product.id})}" class="btn btn-delete" onclick="return confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a s·∫£n ph·∫©m n√†y?')">üóëÔ∏è X√≥a</a>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div style="text-align: center; color: white; margin-top: 30px; padding: 20px;">
        <p>&copy; 2025 - Ph√°t tri·ªÉn ·ª©ng d·ª•ng v·ªõi J2EE</p>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
</body>
</html>
