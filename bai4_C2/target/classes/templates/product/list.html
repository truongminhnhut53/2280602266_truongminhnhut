<!DOCTYPE html>
<html lang="vi"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{_layout}">
<head>
    <meta charset="UTF-8">
    <title>Danh S√°ch S·∫£n Ph·∫©m</title>
</head>
<body>
<div layout:fragment="content">
    <div class="container-fluid">
        <div class="header">
            <h1>üì± Qu·∫£n L√Ω S·∫£n Ph·∫©m</h1>
            <p>H·ªá th·ªëng qu·∫£n l√Ω s·∫£n ph·∫©m ƒëi·ªán tho·∫°i v√† laptop</p>
        </div>

        <div class="content">
            <a href="/products/add" class="btn-add">+ Th√™m S·∫£n Ph·∫©m M·ªõi</a>

            <div th:if="${products.isEmpty()}" class="empty-message">
                <p>Kh√¥ng c√≥ s·∫£n ph·∫©m n√†o. <a href="/products/add" style="color: #667eea;">Th√™m s·∫£n ph·∫©m m·ªõi</a></p>
            </div>

            <div th:if="${!products.isEmpty()}">
                <table class="table table-hover">
                    <thead>
                    <tr>
                        <th>M√£</th>
                        <th>H√¨nh ·∫¢nh</th>
                        <th>T√™n S·∫£n Ph·∫©m</th>
                        <th>Gi√°</th>
                        <th>Danh M·ª•c</th>
                        <th>Thao T√°c</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="product : ${products}">
                        <td th:text="${product.code}"></td>
                        <td>
                            <img th:src="@{/uploads/{image}(image=${product.image})}"
                                 alt="Product"
                                 class="product-image"
                                 onerror="this.onerror=null;this.src='data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%2260%22 height=%2260%22%3E%3Crect fill=%22%23f0f0f0%22 width=%2260%22 height=%2260%22/%3E%3Ctext x=%2230%22 y=%2235%22 fill=%22%23999%22 font-size=%228%22%3E?%3C/text%3E%3C/svg%3E'">
                        </td>
                        <td th:text="${product.name}"></td>
                        <td class="price">
                            <span th:text="${#numbers.formatInteger(product.price, 1)}"></span> ƒë
                        </td>
                        <td>
                            <span th:class="${'badge ' + (product.category == 'ƒëi·ªán tho·∫°i' ? 'badge-phone' : 'badge-laptop')}"
                                  th:text="${product.category}"></span>
                        </td>
                        <td>
                            <div class="actions">
                                <a th:href="@{/products/edit/{id}(id=${product.id})}" class="btn btn-edit">‚úèÔ∏è S·ª≠a</a>
                                <a th:href="@{/products/delete/{id}(id=${product.id})}" class="btn btn-delete"
                                   onclick="return confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a s·∫£n ph·∫©m n√†y?')">üóëÔ∏è X√≥a</a>
                            </div>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
</body>
</html>

